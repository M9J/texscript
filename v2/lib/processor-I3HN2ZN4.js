import{a as m}from"./chunk-756GRGXS.js";import{b as o,c as p,d as a}from"./chunk-SUI2TPB6.js";import{a as l}from"./chunk-MANGVJK4.js";import"./chunk-GKXYOKXO.js";async function f(t,e){try{if(o("Compiling..."),t.compile(e),t.ast){let d=t.ast.dependencies;o("Loading dependencies..."),await u(d),a("95")}let n=t.generateCodeFor("HTML");o("Compilation done.");let s=document.querySelector(".texscript-banner-container");s instanceof HTMLElement&&(s.style.display="none");let r=document.createElement("div");r.className="texscript-pages",a("100");let c=l();r.innerHTML=n,c.appendChild(r);let i=document.createElement("div");i.className="texscript-pages-container",i.appendChild(r),c.innerHTML=i.outerHTML,window.TexscriptCompiler={...t.toString(),toggleSplashStatus:()=>p()}}catch(n){o(n,"error")}}async function u(t){try{if(t!=null&&t.CustomCSSFilePath){let e=t.CustomCSSFilePath;await g(e)}}catch(e){o(e,"error")}}async function g(t){let e=document.createElement("link");e.rel="stylesheet",e.href=t;try{document.head.appendChild(e),await new Promise((n,s)=>{e.onload=()=>n(),e.onerror=()=>{let r=m.ERR0018+"<br/>"+t;s(new Error(r))}})}catch(n){o(n,"error")}}export{f as process};
