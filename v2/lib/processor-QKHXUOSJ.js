import{a as c}from"./chunk-756GRGXS.js";import{b as n,c as l,d as i}from"./chunk-GE7HQZ7M.js";import"./chunk-GKXYOKXO.js";async function C(e,t){try{if(n("Compiling..."),e.compile(t),e.ast){let m=e.ast.dependencies;n("Loading dependencies..."),await d(m),i("95")}let o=e.generateCodeFor("HTML");n("Compilation done.");let s=document.querySelector(".texscript-banner-container");s instanceof HTMLElement&&(s.style.display="none");let r=document.createElement("div");r.className="texscript-pages",i("100"),r.innerHTML=o;let a=document.createElement("div");a.className="texscript-pages-container",a.appendChild(r),document.body.appendChild(a),window.TexscriptCompiler={...e.toString(),toggleSplashStatus:()=>l()}}catch(o){n(o,"error"),console.log(o)}}async function d(e){try{if(e!=null&&e.CustomCSSFilePath){let t=e.CustomCSSFilePath;await p(t)}}catch(t){n(t,"error"),console.log(t)}}async function p(e){let t=document.createElement("link");t.rel="stylesheet",t.href=e;try{document.head.appendChild(t),await new Promise((o,s)=>{t.onload=()=>o(),t.onerror=()=>{let r=c.ERR0018+"<br/>"+e;s(new Error(r))}})}catch(o){n(o,"error"),console.log(o)}}export{C as process};
