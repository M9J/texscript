"use strict";(()=>{var e,t,i=Object.defineProperty,r=e=>{throw TypeError(e)},s=(e,t)=>()=>(e&&(t=e(e=0)),t),n=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},a=(e,t,i)=>t.has(e)||r("Cannot "+i),o=(e,t,i)=>(a(e,t,"read from private field"),i?i.call(e):t.get(e)),l=(e,t,i)=>t.has(e)?r("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),p=(e,t,i,r)=>(a(e,t,"write to private field"),r?r.call(e,i):t.set(e,i),i),c=s(()=>{e="progress.texscript-splash-progress-bar { width: 100%; height: 4px; position: sticky; top: 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1); appearance: none; block-size: 4px; vertical-align: top;}progress.texscript-splash-progress-bar::-webkit-progress-bar { background-color: #252529;}progress.texscript-splash-progress-bar::-moz-progress-bar { background-color: #252529;}progress.texscript-splash-progress-bar::-webkit-progress-value { background-color: #2196f3;}progress.texscript-splash-progress-bar::-webkit-progress-value { transition: width 1s ease-in-out;}"}),d=s(()=>{t=".texscript-splash-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: flex-end; background: #252529; margin: 0; box-sizing: border-box; display: none;}.texscript-splash { font-family: monospace; background: #fff; color: #000; padding: 16px; box-shadow: -4px -8px 16px rgba(0, 0, 0, 0.5); box-sizing: border-box;}.texscript-splash-status { overflow: auto;}.texscript-splash-status-error { color: #a00;}"}),h={};n(h,{default:()=>u});var u,m,g,f,E,w=s(()=>{u={ERR0001:"Unable to find the raw code to be compiled",ERR0002:"'rawCode' not provided",ERR0003:'Make sure the code is wrapped in &lt;script type="text/texscript">...&lt;/script&gt;',ERR0004:"'codeLOC' not provided",ERR0005:"'rule' not provided",ERR0006:"'matches' not provided",ERR0007:"'tokens' not provided",ERR0008:"token.type is null",ERR0009:"'ast' is not provided",ERR0010:"'node' is not provided",ERR0011:"'lang' is not provided",ERR0012:"Code generator for mentioned language is not provided",ERR0013:"'metricsName' not provided",ERR0014:"Unable to find any code written in Texscript",ERR0015:"Not able to find any Texscript code inside &lt;script&gt; element",ERR0016:"&lt;script&gt; element not found",ERR0017:"Compilation failed",ERR0018:"Dependency not found",ERR0019:"Unable to find any Texscript source URL inside &lt;script&gt; element",ERR0020:'Texscript code should be provided inside &lt;script type="text/texscript">...&lt;/script&gt; or as URL using &lt;script src="file.txs" type="text/texscript">&lt;/script&gt;',ERR0021:"External Texscript source code not found",ERR0022:"External CSS file not found"}}),R=s(()=>{w(),Me(),E=class{constructor(e){if(l(this,m,null),l(this,g,null),l(this,f,null),!e)throw new Error(u.ERR0013);p(this,m,e)}start(){p(this,g,performance.now())}end(){p(this,f,performance.now());let e=this.getFormattedTime(),t=`[Texscript: Metrics] > ${o(this,m)} finished in ${e}`;console.log(t),Te(t)}getTotalTimeMilliseconds(){return o(this,f)&&o(this,g)?o(this,f)-o(this,g):0}getFormattedTime(){let e=this.getTotalTimeMilliseconds();return e<1e3?`${e.toFixed(3)}ms`:`${(e/1e3).toFixed(3)}s`}},m=new WeakMap,g=new WeakMap,f=new WeakMap}),x={};async function C(){try{let e=[],t=document.querySelectorAll('script[type="text/texscript"]');if(!t)throw new Error(u.ERR0003);if(t.length>1)for(let i of Array.from(t)){let t=await S(i);t&&e.push(t)}else{let i=t[0];if(i){let t=await S(i);t&&e.push(t)}}if(!(e.length>0))throw new Error(u.ERR0014);return e.join("\n")}catch(e){Te(e,"error")}}async function S(e){var t;if(!e)throw new Error(u.ERR0016);let i=null!=(t=e.innerText)?t:null,r=e.getAttribute("src");if(!i&&!r)throw new Error(u.ERR0020);let s=null,n=null;if(i&&(s=i.trim(),!s))throw new Error(u.ERR0014);if(r&&!b.includes(r)){let e=await fetch(r);if(404===e.status)throw new Error(u.ERR0021+": "+r);if(n=(await e.text()).trim(),!n)throw new Error(u.ERR0014);b.push(r)}return s&&n?`${s}\n${n}`:s||(n||void 0)}n(x,{findCodeFromDOM:()=>C});var b,y,v,A,T,L,k,P=s(()=>{w(),Me(),b=[]}),O=s(()=>{v=class{constructor(e){l(this,y,null),p(this,y,e)}getNodeType(){return o(this,y)}},y=new WeakMap,A=class extends v{constructor(){super("ROOT"),this.value=null,this.meta={},this.body=[],this.dependencies={},this.references={},this.configurations={}}},T=class extends v{constructor(){super("TAG"),this.value=null,this.htmlElement=null,this.customCSSClasses=[],this.parameters=null,this.children=[],this.htmlAttributes={}}},L=class extends v{constructor(){super("LITERAL"),this.value=null}},k=class extends v{constructor(){super("SPEC_TAG"),this.htmlElement=null,this.value=null}}});var M,$,_,N,B,H,F,U=s(()=>{M={KEYWORD:/(^[A-Z][a-z]*)/,STRING:/"(.*)"$|(\\\"(.*)\\\"$)/},$={CSS_CLASS:/\.([a-z]+[a-zA-Z]*)/,COMMAND:/(@[A-Z][a-zA-Z]*\s[\s\w]+:\s*("[^"]*"|\w+))/,PARAMETERS:/(\(([\s\w]+:\s*("[^"]*"|\w+),?\s*)+\))/,URL:/^\"(?:https?:\/\/|\/\/|www\.)?[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}(?:\.[a-zA-Z]{2,})?\"$/,MAIL:/^\"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\"$/},_={BRACKET_SQUARE_CLOSE:/(\])/,BRACKET_SQUARE_OPEN:/(\[)/,COLON:/(:)/,SPACE:/(\s*)/,WHITESPACE:/(\s)/,BRACKET_ANGLE_CLOSE:/(\>)/,DOUBLE_QUOTE:/(\")/},N={BR:/(::)/,HR:/(--)/},B={...M,...$,..._,...N},H=function(e,t){let i=new Map;for(let r of e){let e=r.split("|").map(e=>{let i=t[e];if(!i)throw new Error(`Unknown token: ${e}`);return i.source}),s=new RegExp(e.join(""));i.set(r,s)}return i}(["BR","BRACKET_SQUARE_CLOSE","COMMAND","HR","MAIL","KEYWORD|COLON|SPACE|STRING","KEYWORD|CSS_CLASS|COLON|SPACE|STRING","KEYWORD|CSS_CLASS|SPACE|BRACKET_SQUARE_OPEN","KEYWORD|CSS_CLASS|SPACE|PARAMETERS|COLON|SPACE|STRING","KEYWORD|CSS_CLASS|SPACE|PARAMETERS|SPACE|BRACKET_SQUARE_OPEN","KEYWORD|SPACE|BRACKET_SQUARE_OPEN","KEYWORD|SPACE|PARAMETERS","KEYWORD|SPACE|PARAMETERS|COLON|SPACE|STRING","KEYWORD|SPACE|PARAMETERS|SPACE|BRACKET_SQUARE_OPEN","URL","STRING"],B)}),I=s(()=>{F=class{constructor(){this.items=[]}push(e){this.items.push(e)}pop(){if(this.isEmpty())throw new Error("Stack underflow");return this.items.pop()}isEmpty(){return 0===this.items.length}peek(){return this.isEmpty()?null:this.items[this.items.length-1]}}}),G={};n(G,{default:()=>W});var W,z=s(()=>{R(),w(),O(),U(),I(),W=class{constructor(){this.version="v0.2",this.repourl="https://github.com/M9J/texscript.git",this.metricsCompilation=new E("Texscript Compilation"),this.metricsCodeGeneration=new E("Texscript Code Generation"),this.rawCode=null,this.loc=null,this.tokens=null,this.ast=null,console.log(`[Texscript: Info] > Compiler ${this.version}`)}get lastCompilation(){return new Map([["loc",this.loc],["tokens",this.tokens],["ast",this.ast]])}toString(){return{version:this.version,repoURL:this.repourl,lastCompilation:this.lastCompilation,grammar:H}}compile(e){this.rawCode=e,this.metricsCompilation.start(),this.loc=this.convertToLinesOfCode(),this.tokens=this.lexicalAnalysis(),this.ast=this.syntaxAnalysis(),this.metricsCompilation.end()}generateCodeFor(e){if(!e)throw new Error(u.ERR0011);this.metricsCodeGeneration.start();let t=null;if("HTML"!==e)throw new Error(u.ERR0012);return t=this.generateCodeForHTML(),this.metricsCodeGeneration.end(),t}generateCodeForHTML(){if(!this.ast)throw new Error(u.ERR0009);let e="";for(let t of this.ast.body){let i=t.getNodeType();("TAG"===i||"SPEC_TAG"===i||"LITERAL"===i)&&(e+=this.generateHTMLForNode(t))}return e.trim()}generateHTMLForNode(e){if(!e)throw new Error(u.ERR0010);let t=e.getNodeType(),i=e.value,r=e.htmlElement,s=e.htmlAttributes,n=e.parameters,a=e.customCSSClasses,o=e.children||[],l="",p="",c="";if(Array.isArray(a)&&a.length>0&&(l=` ${a.join(" ")}`),n)for(let e in n){let t=n[e];p+=` texscript-${i}-${e.toUpperCase()}-${t.toUpperCase()}`}if(s)for(let e in s){c+=` ${e}="${s[e]}"`}return"TAG"===t?`<${r} class="texscript-${i}${l}${p}" ${c}>\n    ${o.filter(e=>{let t=e.getNodeType();return"TAG"===t||"SPEC_TAG"===t||"LITERAL"===t}).map(e=>this.generateHTMLForNode(e)).join("")}\n  </${r}>`:"SPEC_TAG"===t?`<${r} class="texscript-${i}"/>`:"LITERAL"===t?`${i}`:""}syntaxAnalysis(){if(!this.tokens)throw new Error(u.ERR0007);let e=new A;e.value="Program",e.meta.languageName="Texscript",e.meta.languageCompilerVersion=this.version;let t=new F,i=new F,r=new F,s=null;for(let n of this.tokens)for(let a of n){if(!a.type)throw new Error(u.ERR0008);switch(a.type){case"BR":{let e=new k;e.htmlElement="br",e.value="BR",null==s||s.children.push(e);break}case"BRACKET_SQUARE_CLOSE":t.isEmpty()||t.pop(),t.isEmpty()||(s=t.isEmpty()?null:t.peek());break;case"BRACKET_SQUARE_OPEN":s&&t.push(s);break;case"COLON":i.push(a);break;case"COMMAND":if(a.value){let[t,i]=a.value.split(":");if(t){let[r,s]=null==t?void 0:t.split(" ");if(r&&s&&i)if("@Reference"===r){let t=i.replace(/[\@\s\"]/g,"");e.references[s]=e.references[s]?[...e.references[s],t]:[t]}else if("@Configure"===r){let t=i.replace(/[\@\s\"]/g,"");e.configurations[s]=t}}}break;case"CSS_CLASS":null==s||s.customCSSClasses.push(a.value);break;case"HR":{let e=new k;e.htmlElement="hr",e.value="HR",null==s||s.children.push(e);break}case"MAIL":case"URL":{let e=new T,t=new L;e.htmlElement="a",e.value="Line";let i=a.value.replace(/\"/g,"");if("MAIL"===a.type&&(e.htmlAttributes.href="mailto:"+i),"URL"===a.type){let t=e=>e.replace(/^(?!https?:\/\/)/i,"http://");e.htmlAttributes.href=t(i),e.htmlAttributes.target="_blank"}t.value=i,e.children.push(t),s&&(null==s||s.children.push(e));break}case"KEYWORD":{let i=new T;if(i.value=a.value,i.htmlElement="Section"===a.value?"section":"List"===a.value?"ul":"div",s=i,t.isEmpty())if(e.body.length>0){let t=new T;t.value="PageBreak",t.htmlElement="div",e.body.push(t);let i=new T;i.value="PageWrapper",i.htmlElement="div",i.children.push(s),e.body.push(i)}else{let t=new T;t.value="PageWrapper",t.htmlElement="div",t.children.push(s),e.body.push(t)}else{let e=t.isEmpty()?null:t.peek();e&&e.children.push(s)}break}case"PARAMETERS":{let e=a.value.replace(/[\(\)\s]/g,"").split(",");for(let t of e){let[e,i]=t.split(":");e&&i&&(null!=s&&s.parameters||(s.parameters={}),s.parameters[e]=i)}break}case"SPACE":case"SPACE_OPTIONAL":r.push(a);break;case"STRING":{let e=new L;e.value=a.value;let n=new T;if(t.isEmpty())n.value="Line",n.htmlElement="div";else{let e=t.isEmpty()?null:t.peek();"List"===(null==e?void 0:e.value)?(n.value="ListItem",n.htmlElement="li"):(n.value="Line",n.htmlElement="div")}if(n.children.push(e),!s)throw new Error("'currentNode' doesn't exist");s.children.push(n),!i.isEmpty()&&!r.isEmpty()&&(s=t.isEmpty()?null:t.peek(),i.pop(),r.pop());break}}}return e}lexicalAnalysis(){if(!this.loc)throw new Error(u.ERR0004);let e=[];for(let[t,i]of this.loc.entries()){let r=!1;for(let[t,s]of H){let n=i.match(s);if(n&&n.length>0){r=!0;let[s,...a]=n;if(s===i){let i=this.convertLineToTokens(t,a.length?a:[s]);e.push(i);break}}}if(!r){let e=t+1,r=`${u.ERR0017}, line: ${e}\n${i}`;throw new Error(r)}}return e}convertLineToTokens(e,t){if(!e)throw new Error(u.ERR0005);if(!t)throw new Error(u.ERR0006);let i=[],r=e.split("|");for(let[e,s]of r.entries()){let r=t[e];void 0!==r&&i.push({type:s,value:r})}return i}convertToLinesOfCode(){if(!this.rawCode)throw new Error(u.ERR0002);return this.rawCode.split("\n").map(e=>e.trim()).filter(e=>e.length>0)}}});function K(e){let t=document.createElement("style");t.textContent=e,document.head.appendChild(t)}var D,j,Y=s(()=>{R(),D=class{constructor(){this.metricsCSSBuilder=new E("CSS Builder"),this.CSSConfig={classes:{},globalRules:[]}}addStyle(e,t,i){this.CSSConfig.classes[e]||(this.CSSConfig.classes[e]={}),this.CSSConfig.classes[e][t]=i}addGlobalRule(e){this.CSSConfig.globalRules.push(e)}buildCSS(){this.metricsCSSBuilder.start();let e=Object.entries(this.CSSConfig.classes).map(([e,t])=>`${e} { ${Object.entries(t).map(([e,t])=>`${e}: ${t};`).join(" ")} }`).join("\n"),t=this.CSSConfig.globalRules.join("\n");return this.metricsCSSBuilder.end(),`${e}\n${t}`}}}),Z=s(()=>{j={pageSize:"",pagePadding:"",lineHeight:"normal"}});var Q,q,J=s(()=>{Q=.0393701,q={A0:{width:841,height:1189},A1:{width:594,height:841},A2:{width:420,height:594},A3:{width:297,height:420},A4:{width:210,height:297},A5:{width:148,height:210},A6:{width:105,height:148},B0:{width:1e3,height:1414},B1:{width:707,height:1e3},B2:{width:500,height:707},B3:{width:353,height:500},B4:{width:250,height:353},B5:{width:176,height:250},C4:{width:229,height:324},C5:{width:162,height:229},C6:{width:114,height:162}}});async function V(e){if(e){await async function(e=j.pageSize){if(e){let t=function(e,t="mm"){let i=q[e.toUpperCase()];if(!i)return null;switch(t){case"px":return{width:Math.round(3.779527*i.width),height:Math.round(3.779527*i.height)};case"in":return{width:parseFloat((i.width*Q).toFixed(2)),height:parseFloat((i.height*Q).toFixed(2))};default:return i}}(e,"in");t&&t.width&&t.height&&(X.addGlobalRule(`@media print { @page { size: ${e}} }`),X.addStyle(".texscript-PageWrapper","width",t.width+"in"),X.addStyle(".texscript-PageWrapper","height",t.height+"in"))}}(e.pageSize),await async function(e=j.pagePadding){e&&e&&X.addStyle(".texscript-PageWrapper","padding",e)}(e.pagePadding),await async function(e=j.lineHeight){e&&X.addStyle(".texscript-Page","line-height",e)}(e.lineHeight),K(X.buildCSS())}}var X,ee=s(()=>{Y(),Z(),J(),X=new D});var te,ie,re,se=s(()=>{te=[{href:"https://fonts.googleapis.com",crossorigin:!1},{href:"https://fonts.gstatic.com",crossorigin:!0}]}),ne=s(()=>{R(),ie=["align-items","color","display","flex-direction","font-family","font-size","font-weight","justify-content","padding-left","text-align"],re=class{constructor(){this.metricsCSSFilterCompiler=new E("CSS Filter Compiler"),this.allowedProperties=ie}compile(e){this.metricsCSSFilterCompiler.start();let t,i={classes:[],imports:[]},r=/@import\s+(?:url\()?["']?([^"')]+)["']?\)?\s*;/g;for(;null!==(t=r.exec(e));){let e=t[1];"string"==typeof e&&e.trim()&&i.imports.push(e.trim())}let s,n=/((?:\.[a-zA-Z0-9_-]+\s*,?\s*)+)\{([^}]+)\}/g;for(;null!==(s=n.exec(e));){let e=s[1],t=s[2],r=[];t&&t.split(";").forEach(e=>{let[t,i]=e.split(":").map(e=>e.trim());this.allowedProperties.includes(t)&&r.push({property:t,value:i})}),e&&e.split(",").map(e=>e.trim()).forEach(e=>{e.startsWith(".")&&i.classes.push({selector:e,declarations:[...r]})})}return this.metricsCSSFilterCompiler.end(),i}generateFilteredCSSContent(e){var t;if(!e)return"";return[...(null==(t=e.imports)?void 0:t.map(e=>`@import url("${e}");`))||[],...e.classes.map(e=>{let t=e.declarations.map(e=>`  ${e.property}: ${e.value};`).join("\n");return`${e.selector} {\n${t}\n}`})].join("\n\n")}}});var ae,oe,le,pe,ce,de=s(()=>{R(),w(),Y(),ne()}),he=s(()=>{ae="#TexscriptHostElement { position: relative; width: 100%; background-color: #252529; overflow: auto; box-sizing: border-box; margin: 0; padding: 0; }.reset * { box-sizing: border-box; }.display-none { display: none;}a { text-decoration: none; font-style: italic;}"}),ue=s(()=>{oe="@media print { body { background: #fff !important; margin: 0 !important; padding: 0 !important; } .texscript-pages-container { margin: 0 !important; padding: 0 !important; } .texscript-pages { gap: 0px !important; } .texscript-PageWrapper { box-shadow: none !important; page-break-after: always !important; break-after: page !important; page-break-inside: avoid !important; break-inside: avoid !important; } .texscript-Page { margin: 0 !important; box-shadow: none !important; } .texscript-PageBreak { page-break-before: always !important; break-before: page !important; display: block !important; height: 0 !important; margin: 0 !important; padding: 0 !important; border: none !important; } .page-break-after { page-break-after: always !important; break-after: page !important; } .avoid-break { page-break-inside: avoid !important; break-inside: avoid !important; }}"}),me=s(()=>{le=".texscript-pages-container { display: inline-block; margin: 24px; }.texscript-pages { display: flex; gap: 24px; flex-wrap: wrap; align-items: flex-start; justify-content: flex-start;}.texscript-PageWrapper { display: flex; flex-direction: column; background-color: #fff; box-sizing: border-box; box-shadow: 4px 8px 16px rgba(0, 0, 0, 0.5); flex: 0 0 auto; }.texscript-Page { display: flex; flex-direction: column; box-sizing: border-box; overflow: hidden; }.texscript-Line { display: block; }.texscript-HR { height: 1px; background: rgba(0, 0, 0, 0.1); margin: 8px 0; }"}),ge=s(()=>{pe=".texscript-List-TYPE-BULLET .texscript-ListItem { list-style-type: disc; }.texscript-List-TYPE-NUMBER .texscript-ListItem { list-style-type: decimal; }"}),fe=s(()=>{he(),ue(),me(),ge(),ce=ae+oe+le+pe});async function Ee(){await async function(){try{let e=document.createElement("style");e.textContent=ce,document.head.appendChild(e)}catch(e){Te(e,"error")}}(),await async function(){let e=document.createElement("meta");e.setAttribute("name","viewport"),e.setAttribute("content","width=device-width, initial-scale=1.0"),document.head.appendChild(e)}()}var we=s(()=>{Me(),fe()}),Re={};async function xe(e,t){try{let i=new E("Texscript Process");if(i.start(),Te("Compiling..."),e.compile(t),await Ee(),e.ast){let t=e.ast.configurations;t&&(Te("Loading configurations..."),await async function(e){e&&await V(e)}(t),Le("95"));let i=e.ast.references;i&&(Te("Loading references..."),await async function(e){e&&(function(){for(let e of te){let t=document.createElement("link");t.rel="preconnect",t.href=e.href,e.crossorigin&&(t.crossOrigin="anonymous"),document.head.appendChild(t)}}(),e.css&&await async function(e){let t=new E("CSS File Loader");t.start();let i=[];for(let t of e)if(!i.includes(t)){let e=await fetch(t);if(404===e.status)throw new Error(u.ERR0022+": "+t);let r=await e.text();if(r){let e=new re,s=e.compile(r);K(e.generateFilteredCSSContent(s)),i.push(t)}}t.end()}(e.css))}(i),Le("98"))}let r=e.generateCodeFor("HTML");Te("Compilation done.");let s=document.querySelector(".texscript-banner-container");s instanceof HTMLElement&&(s.style.display="none");let n=document.createElement("div");n.className="texscript-pages",n.innerHTML=r;let a=document.createElement("div");a.className="texscript-pages-container",a.classList.add("display-none"),a.appendChild(n),He().innerHTML=a.outerHTML,await document.fonts.ready,a.classList.remove("display-none"),Le("100"),i.end(),window.TexscriptCompiler=e.toString(),function(){(!document.title||""===document.title.trim())&&(document.title="Texscript | "+location.host+location.pathname);let e=document.documentElement;(!e.lang||""===e.lang.trim())&&(e.lang="en");let t=document.querySelector('meta[name="description"]');t?(!t.content||""===t.content.trim())&&(t.content="This page was compiled by Texscript Compiler"):(t=document.createElement("meta"),t.name="description",t.content="This page was compiled by Texscript Compiler",document.head.appendChild(t))}()}catch(e){Te(e,"error")}}n(Re,{process:()=>xe});var Ce=s(()=>{Fe(),R(),ee(),se(),de(),Me(),we()}),Se={};async function be(){try{let e=new E("Texscript Loader");e.start(),Te("Getting handy tools..."),Le("20");let t=await Promise.resolve().then(()=>(P(),x));Te("Opening curse words..."),Le("30");let i=await Promise.resolve().then(()=>(w(),h));Te("Loading brain power..."),Le("50");let r=new((await Promise.resolve().then(()=>(z(),G))).default),s=await Promise.resolve().then(()=>(Ce(),Re));Le("60"),Te("Finding your story...");let n=await t.findCodeFromDOM();if(!n)throw new Error(i.default.ERR0001);Le("90"),e.end(),s.process(r,n)}catch(e){Te(e,"error")}}n(Se,{load:()=>be});var ye=s(()=>{R(),Me()}),ve={};async function Ae(){try{Le("8");let e=document.createElement("style");e.innerHTML=Oe,document.head.appendChild(e);let t=document.createElement("div");t.innerHTML=Pe,He().appendChild(t),Te("Fetching Texscript Loader...");let i=await Promise.resolve().then(()=>(ye(),Se));Le("10"),Te("Fetched Texscript Loader"),Te("Loading Texscript modules..."),await i.load()}catch(e){Te(e,"error")}}function Te(e,t){let i="";i="error"===t?`<div class="texscript-splash-status-error">${e.toString().replaceAll("\n","<br/>")}</div>`:`<div>${e}</div>`;let r=document.getElementById("texscript-splash-status");if(r&&(s=i,r.innerHTML+=s),t&&["error"].includes(t)){let e=document.getElementById("texscript-splash");e&&(e.style.display="flex")}var s;"error"===t&&console.error(e)}function Le(e){if(e){let t=document.getElementById("texscript-splash-progress");t&&t.setAttribute("value",e),parseInt(e)>99&&ke()}}function ke(){let e=document.getElementById("texscript-splash-progress");e&&(e.style.display="none")}n(ve,{hideSplashProgress:()=>ke,loadSplash:()=>Ae,updateSplashProgress:()=>Le,updateSplashStatus:()=>Te});var Pe,Oe,Me=s(()=>{Fe(),d(),Pe='\n<div class="texscript-splash-container" id="texscript-splash">\n  <div class="texscript-splash">\n    <div>Texscript Markup Language [Version 0.2]<br/>Free and Open Source. Licensed under GPL-3.0.<br/>Hosted on GitHub: <a href="https://github.com/M9J/texscript.git">texscript.git</a></div>\n    <br/><hr/><br/>\n    <div id="texscript-splash-status"></div>\n  </div>\n</div>\n',Oe=t}),$e={};async function _e(){let e=He(),t=document.createElement("style");t.textContent=Ne,document.head.appendChild(t);let i=document.createElement("progress");i.setAttribute("class","texscript-splash-progress-bar"),i.setAttribute("id","texscript-splash-progress"),i.setAttribute("value","0"),i.setAttribute("max","100"),e.appendChild(i),i.setAttribute("value","2");let r=await Promise.resolve().then(()=>(Me(),ve));i.setAttribute("value","5"),await r.loadSplash()}n($e,{load:()=>_e});var Ne,Be=s(()=>{Fe(),c(),Ne=e});function He(){return document.querySelector("[data-texscript-host]")||document.body}var Fe=s(()=>{document.addEventListener("DOMContentLoaded",async()=>{if(window.__texscript_loaded__)return;window.__texscript_loaded__=!0;let e=He();e instanceof HTMLElement&&(e.setAttribute("id","TexscriptHostElement"),e.classList.add("reset"),e instanceof HTMLBodyElement||(e.innerHTML=""),e.style.background="#252529",e.style.margin="0px",e.style.padding="0px"),(await Promise.resolve().then(()=>(Be(),$e))).load()})});Fe()})();