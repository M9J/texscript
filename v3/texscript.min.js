"use strict";(()=>{var t,e,r=Object.defineProperty,i=t=>{throw TypeError(t)},s=(t,e)=>()=>(t&&(e=t(t=0)),e),n=(t,e)=>{for(var i in e)r(t,i,{get:e[i],enumerable:!0})},a=(t,e,r)=>e.has(t)||i("Cannot "+r),o=(t,e,r)=>(a(t,e,"read from private field"),r?r.call(t):e.get(t)),l=(t,e,r)=>e.has(t)?i("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),c=(t,e,r,i)=>(a(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r),h=s(()=>{t="progress.texscript-splash-progress-bar { width: 100%; height: 4px; position: sticky; top: 0; border-bottom: 1px solid rgba(255, 255, 255, 0.1); appearance: none; block-size: 4px; vertical-align: top;}progress.texscript-splash-progress-bar::-webkit-progress-bar { background-color: #252529;}progress.texscript-splash-progress-bar::-moz-progress-bar { background-color: #252529;}progress.texscript-splash-progress-bar::-webkit-progress-value { background-color: #2196f3;}progress.texscript-splash-progress-bar::-webkit-progress-value { transition: width 1s ease-in-out;}"}),p=s(()=>{e=".texscript-splash-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: flex-end; background: #252529; margin: 0; box-sizing: border-box; display: none;}.texscript-splash { font-family: monospace; background: #fff; color: #000; padding: 16px; box-shadow: -4px -8px 16px rgba(0, 0, 0, 0.5); box-sizing: border-box;}.texscript-splash-status { overflow: auto;}.texscript-splash-status-error { color: #a00;}"}),d={};n(d,{default:()=>u});var u,m,g,f,E,k=s(()=>{u={ERR0001:"Unable to find the raw code to be compiled",ERR0002:"'rawCode' not provided",ERR0003:'Make sure the code is wrapped in &lt;script type="text/texscript">...&lt;/script&gt;',ERR0004:"'codeLOC' not provided",ERR0005:"'rule' not provided",ERR0006:"'matches' not provided",ERR0007:"'tokens' not provided",ERR0008:"token.type is null",ERR0009:"'ast' is not provided",ERR0010:"'node' is not provided",ERR0011:"'lang' is not provided",ERR0012:"Code generator for mentioned language is not provided",ERR0013:"'metricsName' not provided",ERR0014:"Unable to find any code written in Texscript",ERR0015:"Not able to find any Texscript code inside &lt;script&gt; element",ERR0016:"&lt;script&gt; element not found",ERR0017:"Compilation failed",ERR0018:"Dependency not found",ERR0019:"Unable to find any Texscript source URL inside &lt;script&gt; element",ERR0020:'Texscript code should be provided inside &lt;script type="text/texscript">...&lt;/script&gt; or as URL using &lt;script src="file.txs" type="text/texscript">&lt;/script&gt;',ERR0021:"External Texscript source code not found",ERR0022:"External CSS file not found",ERR0023:"'characterStream' not provided",ERR0024:"Missing closing round bracket",ERR0025:"Missing closing square bracket",ERR0026:"Syntax is wrong. Kindly recheck your code",ERR0027:"Missing opening round bracket",ERR0028:"Missing opening square bracket"}}),w=s(()=>{k(),ne(),E=class{constructor(t){if(l(this,m,null),l(this,g,null),l(this,f,null),!t)throw new Error(u.ERR0013);c(this,m,t)}start(){c(this,g,performance.now())}end(){c(this,f,performance.now());let t=this.getFormattedTime(),e=`[Texscript: Metrics] > ${o(this,m)} finished in ${t}`;console.log(e),te(e)}getTotalTimeMilliseconds(){return o(this,f)&&o(this,g)?o(this,f)-o(this,g):0}getFormattedTime(){let t=this.getTotalTimeMilliseconds();return t<1e3?`${t.toFixed(3)}ms`:`${(t/1e3).toFixed(3)}s`}},m=new WeakMap,g=new WeakMap,f=new WeakMap}),x={};async function S(){try{let t=[],e=document.querySelectorAll('script[type="text/texscript"]');if(!e)throw new Error(u.ERR0003);if(e.length>1)for(let r of Array.from(e)){let e=await R(r);e&&t.push(e)}else{let r=e[0];if(r){let e=await R(r);e&&t.push(e)}}if(!(t.length>0))throw new Error(u.ERR0014);return t.join("\n")}catch(t){te(t,"error")}}async function R(t){var e;if(!t)throw new Error(u.ERR0016);let r=null!=(e=t.innerText)?e:null,i=t.getAttribute("src");if(!r&&!i)throw new Error(u.ERR0020);let s=null,n=null;if(r&&(s=r.trim(),!s))throw new Error(u.ERR0014);if(i&&!y.includes(i)){let t=await fetch(i);if(404===t.status)throw new Error(u.ERR0021+": "+i);if(n=(await t.text()).trim(),!n)throw new Error(u.ERR0014);y.push(i)}return s&&n?`${s}\n${n}`:s||(n||void 0)}n(x,{findCodeFromDOM:()=>S});var y,b=s(()=>{k(),ne(),y=[]}),C=s(()=>{});function v(t){return/^[0-9]$/.test(t)}function T(t){return/^[A-Z]$/.test(t)}function A(t){return/^[a-z]$/.test(t)}function L(t){return/^ $/.test(t)}function N(t){return/^\t$/.test(t)}function O(t){return/^\($/.test(t)}function $(t){return/^\)$/.test(t)}function P(t){return/^\[$/.test(t)}function B(t){return/^\]$/.test(t)}function _(t){return/^\:$/.test(t)}function D(t){return/^\-$/.test(t)}function M(t){return/^\,$/.test(t)}function I(t){return/^\$$/.test(t)}function U(t){return/^\@$/.test(t)}function F(t){return/^\*$/.test(t)}function K(t){return/^\/$/.test(t)}function H(t){return/^\.$/.test(t)}function G(t){return/^\"$/.test(t)}function W(t){return/^$/.test(t)}function z(t){return/^\n$/.test(t)}var j,q,Y,Q,J,V,Z,X,tt,et,rt,it=s(()=>{k(),w(),C(),j=class{constructor(t){if(this.metrics=new E("PrePrecessor"),this.characterStream=[],!t)throw new Error(u.ERR0023);this.characterStream=t}lexicalAnalysis(){this.metrics.start();let t=[],e=0,r=0,i="",s=this.characterStream.length,n=1,a=1,o=()=>a-i.length;for(let l=0;l<s+1;l++,a++){let s=this.characterStream[l]||"";switch(r){case 0:if(L(s)||N(s))continue;if(z(s)){e++,n++,a=1;continue}$(s)?(r=1,l--,a--):O(s)?r=2:B(s)?(r=3,l--,a--):P(s)?r=4:_(s)?r=5:M(s)?r=6:I(s)?r=7:U(s)?r=8:K(s)?r=11:H(s)?r=10:A(s)?(r=12,l--,a--):v(s)?r=13:T(s)?(r=16,l--,a--):r=G(s)?17:W(s)?18:19;break;case 1:t.push({type:"BRACKET_ROUND_CLOSE",value:")",line:n,column:o()}),r=0;break;case 2:t.push({type:"BRACKET_ROUND_OPEN",value:"(",line:n,column:o()}),r=0,l--,a--;break;case 3:t.push({type:"BRACKET_SQUARE_CLOSE",value:"]",line:n,column:o()}),r=0;break;case 4:t.push({type:"BRACKET_SQUARE_OPEN",value:"[",line:n,column:o()}),r=0,l--,a--;break;case 5:t.push({type:"COLON",value:":",line:n,column:o()}),r=0,l--,a--;break;case 6:t.push({type:"COMMA",value:",",line:n,column:o()}),r=0;break;case 7:L(s)||$(s)||z(s)||M(s)?(t.push({type:"CONSTANT",value:i,line:n,column:o()}),i="",r=0,l--,a--):i+=s;break;case 8:L(s)?(t.push({type:"DECLARATION",value:i,line:n,column:o()}),i="",r=0):i+=s;break;case 9:K(s)?(t.push({type:"DECORATOR",value:i,line:n,column:o()}),i="",r=0):i+=s;break;case 10:t.push({type:"DOT",value:".",line:n,column:o()}),r=0,l--,a--;break;case 11:K(s)?r=14:F(s)?r=15:(D(s)||_(s))&&(r=9,l--);break;case 18:i="",r=18;break;case 19:throw new Error("Error happened during lexical analysis");case 12:L(s)||_(s)||P(s)||$(s)?(t.push({type:"IDENTIFIER",value:i,line:n,column:o()}),i="",r=0,l--,a--):i+=s;break;case 13:i+=s,L(s)&&(t.push({type:"INTEGER",value:i,line:n,column:o()}),i="",r=0);break;case 15:F(s)&&(r=14);break;case 14:z(s)&&(r=0);break;case 16:L(s)||_(s)||H(s)||z(s)||P(s)?(t.push({type:"KEYWORD",value:i,line:n,column:o()}),i="",r=0,l--,a--):i+=s;break;case 17:G(s)?(t.push({type:"STRING",value:i,line:n,column:o()}),i="",r=0):i+=s}}return t.length&&!e&&++e,this.metrics.end(),{tokens:t,locCount:e}}}}),st=s(()=>{k(),w(),q=class{constructor(t){if(this.metrics=new E("PrePrecessor"),this.rawCode="",!t)throw new Error(u.ERR0002);this.rawCode=t}preprocessCode(){this.metrics.start();let t=this.trim(this.rawCode),e=this.normalize(t),r=this.convertToCharacterStream(e);return this.metrics.end(),r}convertToCharacterStream(t){return t.split("")}normalize(t){return t.replace(/\r/gi,"")}trim(t){return t.trim()}}}),nt=s(()=>{Q=class{constructor(t){l(this,Y,null),c(this,Y,t)}getNodeType(){return o(this,Y)}},Y=new WeakMap,J=class extends Q{constructor(){super("ROOT"),this.value=null,this.meta={},this.body=[],this.references={},this.configurations={}}},V=class extends Q{constructor(){super("TAG"),this.value=null,this.htmlElement=null,this.customCSSClasses=[],this.parameters={},this.children=[],this.htmlAttributes={}}},Z=class extends Q{constructor(){super("LITERAL"),this.value=null}},X=class extends Q{constructor(){super("SPEC_TAG"),this.htmlElement=null,this.value=null}}}),at=s(()=>{tt=class{constructor(){this.items=[]}push(t){this.items.push(t)}pop(){if(this.isEmpty())throw new Error("Stack underflow");return this.items.pop()}isEmpty(){return 0===this.items.length}peek(){return this.isEmpty()?null:this.items[this.items.length-1]}}}),ot=s(()=>{k(),w(),nt(),at(),C(),et=class{constructor(t){if(this.metrics=new E("PrePrecessor"),this.tokens=[],this.ast=new J,this.declarations={configure:{},reference:{}},this.declarationStack=new tt,this.contextStack=new tt,this.tagStack=new tt,this.bracketRoundStack=new tt,this.bracketSquareStack=new tt,this.colonStack=new tt,this.dotStack=new tt,this.keyStack=new tt,this.currentNode=null,!t)throw new Error(u.ERR0007);this.tokens=t}syntaxAnalysis(){this.metrics.start();for(let[t,e]of Object.entries(this.tokens))switch(e.type){case"BRACKET_ROUND_CLOSE":this.handleBracketRoundClose();break;case"BRACKET_ROUND_OPEN":this.handleBracketRoundOpen();break;case"BRACKET_SQUARE_CLOSE":this.handleBracketSquareClose();break;case"BRACKET_SQUARE_OPEN":this.handleBracketSquareOpen();break;case"COLON":this.handleColon(e);break;case"COMMA":case"INTEGER":continue;case"CONSTANT":this.handleConstant(e);break;case"DECLARATION":this.handleDeclaration(e);break;case"DECORATOR":this.handleDecorator(e);break;case"DOT":this.handleDot();break;case"IDENTIFIER":this.handleIdentifier(e);break;case"KEYWORD":this.handleKeyword(e);break;case"STRING":this.handleString(e)}return this.ast.configurations=this.declarations.configure,this.ast.references=this.declarations.reference,this.metrics.end(),this.ast}handleString(t){let e="DECLARATION"===this.contextStack.peek(),r="KEYWORD"===this.contextStack.peek()&&"BRACKET_ROUND_OPEN"===this.bracketRoundStack.peek()&&this.keyStack.peek();e?this.handleDeclarationStatement(t):r?this.handleParameterStatement(t):this.handleStringLiteralStatement(t)}handleKeyword(t){this.contextStack.push("KEYWORD");let e=new V;if(e.value=t.value,e.htmlElement="div","Section"===t.value?e.htmlElement="section":"List"===t.value&&(e.htmlElement="ul"),this.currentNode=e,this.tagStack.isEmpty()){if(this.ast.body.length>0){let t=new V;t.value="PageBreak",t.htmlElement="div",this.ast.body.push(t)}let t=new V;t.value="PageWrapper",t.htmlElement="div",t.children.push(this.currentNode),this.ast.body.push(t)}else{let t=this.tagStack.isEmpty()?null:this.tagStack.peek();t&&t.children&&t.children.push(this.currentNode)}}handleIdentifier(t){var e;let r="DECLARATION"===this.contextStack.peek(),i="KEYWORD"===this.contextStack.peek()&&"DOT"===this.dotStack.peek(),s="KEYWORD"===this.contextStack.peek()&&"BRACKET_ROUND_OPEN"===this.bracketRoundStack.peek();r?this.declarationStack.push(t.value):i?(null==(e=this.currentNode)||e.customCSSClasses.push(t.value),this.dotStack.pop()):s&&this.keyStack.push(t.value)}handleDot(){"KEYWORD"===this.contextStack.peek()&&this.dotStack.push("DOT")}handleDecorator(t){var e;let r=/\:+/.test(t.value),i=/\-+/.test(t.value),s="",n="";r?(s="br",n="BR"):i&&(s="hr",n="HR");let a=[],o=t.value.split("");for(let t of o){let t=new X;t.htmlElement=s,t.value=n,a.push(t)}null==(e=this.currentNode)||e.children.push(...a)}handleDeclaration(t){this.contextStack.push("DECLARATION"),this.declarationStack.push(t.value)}handleConstant(t){let e="DECLARATION"===this.contextStack.peek(),r="KEYWORD"===this.contextStack.peek()&&"BRACKET_ROUND_OPEN"===this.bracketRoundStack.peek()&&this.keyStack.peek();e?this.handleDeclarationStatement(t):r&&this.handleParameterStatement(t)}handleColon(t){this.colonStack.push(t.value)}handleBracketSquareOpen(){this.bracketSquareStack.push("BRACKET_SQUARE_OPEN"),this.currentNode&&this.tagStack.push(this.currentNode)}handleBracketSquareClose(){this.tagStack.isEmpty()||this.tagStack.pop(),this.tagStack.isEmpty()||(this.currentNode=this.tagStack.isEmpty()?null:this.tagStack.peek()),this.contextStack.pop(),this.bracketSquareStack.pop()}handleBracketRoundOpen(){this.bracketRoundStack.push("BRACKET_ROUND_OPEN")}handleBracketRoundClose(){this.bracketRoundStack.pop()}handleDeclarationStatement(t){let e=t.value,r=this.declarationStack.pop(),i=this.declarationStack.pop().toLowerCase();i&&r&&e&&(this.declarations[i]||(this.declarations[i]={}),"configure"===i?this.declarations[i][r]=e:"reference"===i&&(this.declarations[i][r]||(this.declarations[i][r]=[]),Array.isArray(this.declarations[i][r])&&(this.declarations[i][r].includes(e)||this.declarations[i][r].push(e))),this.colonStack.pop(),this.contextStack.pop())}handleParameterStatement(t){let e=this.keyStack.pop();this.currentNode&&(this.currentNode.parameters||(this.currentNode.parameters={}),this.currentNode.parameters[e]=t.value,this.colonStack.pop())}handleStringLiteralStatement(t){let e=new Z;e.value=t.value;let r=new V;if(this.tagStack.isEmpty())r.value="Line",r.htmlElement="div";else{let t=this.tagStack.isEmpty()?null:this.tagStack.peek();"List"===(null==t?void 0:t.value)?(r.value="ListItem",r.htmlElement="li"):(r.value="Line",r.htmlElement="div")}if(r.children.push(e),!this.currentNode)throw new Error("'currentNode' doesn't exist");this.currentNode.children.push(r),this.colonStack.isEmpty()||(this.currentNode=this.tagStack.isEmpty()?null:this.tagStack.peek(),this.colonStack.pop())}}}),lt=s(()=>{k(),w(),at(),C(),rt=class{constructor(t){if(this.metrics=new E("Syntax Checker"),this.tokens=[],!t)throw new Error(u.ERR0007);this.tokens=t}checkSyntax(){let t=!1;return this.metrics.start(),t=this.checkBracketsBalance(),this.metrics.end(),t}checkBracketsBalance(){let t=new tt;for(let e of this.tokens)if("BRACKET_ROUND_OPEN"===e.type)t.push(e.value);else if("BRACKET_ROUND_CLOSE"===e.type){if("("!==t.peek())throw new Error(`Unmatched ) after Ln ${e.line}, Col ${e.column}`);t.pop()}else if("BRACKET_SQUARE_OPEN"===e.type)t.push(e.value);else if("BRACKET_SQUARE_CLOSE"===e.type){if("["!==t.peek())throw new Error(`Unmatched ] after Ln ${e.line}, Col ${e.column}`);t.pop()}return!0}}}),ct={};n(ct,{default:()=>ht});var ht,pt,dt,ut=s(()=>{k(),w(),it(),st(),ot(),lt(),ht=class{constructor(){this.version="v0.3",this.repourl="https://github.com/M9J/texscript.git",this.metrics=new E("Texscript Compilation"),this.rawCode="",this.tokens=null,this.ast=null,this.locCount=0,console.log(`[Texscript: Info] > Compiler ${this.version}`)}get lastCompilation(){return new Map([["tokens",this.tokens],["ast",this.ast]])}toString(){return{version:this.version,repoURL:this.repourl,lastCompilation:this.lastCompilation}}compile(t){if(!t)throw new Error(u.ERR0002);this.metrics.start(),this.rawCode=t;let e=new q(this.rawCode).preprocessCode(),r=new j(e),{tokens:i,locCount:s}=r.lexicalAnalysis();if(this.tokens=i,this.locCount=s,!new rt(i).checkSyntax())throw new Error(u.ERR0026);let n=new et(i).syntaxAnalysis();return n.value="Program",n.meta.languageName="Texscript",n.meta.languageCompilerVersion=this.version,this.ast=n,this.metrics.end(),n}}}),mt=s(()=>{k(),w(),pt=class{constructor(t){if(this.ast=null,this.metrics=new E("Texscript Code Generation"),!t)throw new Error(u.ERR0009);this.ast=t}generateCodeForHTML(){if(!this.ast)throw new Error(u.ERR0009);let t="";this.metrics.start();for(let e of this.ast.body){let r=e.getNodeType();("TAG"===r||"SPEC_TAG"===r||"LITERAL"===r)&&(t+=this.generateHTMLForNode(e))}return this.metrics.end(),t.trim()}generateHTMLForNode(t){if(!t)throw new Error(u.ERR0010);let e=t.getNodeType(),r=t.value,i=t.htmlElement,s=t.htmlAttributes,n=t.parameters,a=t.customCSSClasses,o=t.children||[],l="",c="",h="";if(Array.isArray(a)&&a.length>0&&(l=` ${a.join(" ")}`),n)for(let t in n){let e=n[t];c+=` texscript-${r}-${t.toUpperCase()}-${e.toUpperCase()}`}if(s)for(let t in s){h+=` ${t}="${s[t]}"`}return"TAG"===e?`<${i} class="texscript-${r}${l}${c}" ${h}>\n    ${o.filter(t=>{let e=t.getNodeType();return"TAG"===e||"SPEC_TAG"===e||"LITERAL"===e}).map(t=>this.generateHTMLForNode(t)).join("")}</${i}>`:"SPEC_TAG"===e?`<${i} class="texscript-${r}"/>`:"LITERAL"===e?`${r}`:""}}}),gt=s(()=>{dt={pageSize:"",pagePadding:"",lineHeight:"normal",letterSpacing:"normal"}});var ft,Et,kt=s(()=>{ft=.0393701,Et={A0:{width:841,height:1189},A1:{width:594,height:841},A2:{width:420,height:594},A3:{width:297,height:420},A4:{width:210,height:297},A5:{width:148,height:210},A6:{width:105,height:148},B0:{width:1e3,height:1414},B1:{width:707,height:1e3},B2:{width:500,height:707},B3:{width:353,height:500},B4:{width:250,height:353},B5:{width:176,height:250},C4:{width:229,height:324},C5:{width:162,height:229},C6:{width:114,height:162}}});function wt(t){let e=document.createElement("style");e.textContent=t,document.head.appendChild(e)}var xt,St=s(()=>{w(),xt=class{constructor(){this.metricsCSSBuilder=new E("CSS Builder"),this.CSSConfig={classes:{},globalRules:[]}}addStyle(t,e,r){this.CSSConfig.classes[t]||(this.CSSConfig.classes[t]={}),this.CSSConfig.classes[t][e]=r}addGlobalRule(t){this.CSSConfig.globalRules.push(t)}buildCSS(){this.metricsCSSBuilder.start();let t=Object.entries(this.CSSConfig.classes).map(([t,e])=>`${t} { ${Object.entries(e).map(([t,e])=>`${t}: ${e};`).join(" ")} }`).join("\n"),e=this.CSSConfig.globalRules.join("\n");return this.metricsCSSBuilder.end(),`${t}\n${e}`}}});async function Rt(t){if(t){await async function(t=dt.pageSize){if(t){let e=function(t,e="mm"){let r=Et[t.toUpperCase()];if(!r)return null;switch(e){case"px":return{width:Math.round(3.779527*r.width),height:Math.round(3.779527*r.height)};case"in":return{width:parseFloat((r.width*ft).toFixed(2)),height:parseFloat((r.height*ft).toFixed(2))};default:return r}}(t,"in");e&&e.width&&e.height&&(yt.addGlobalRule(`@media print { @page { size: ${t}} }`),yt.addStyle(".texscript-PageWrapper","width",e.width+"in"),yt.addStyle(".texscript-PageWrapper","height",e.height+"in"))}}(t.pageSize),await async function(t=dt.pagePadding){t&&t&&yt.addStyle(".texscript-PageWrapper","padding",t)}(t.pagePadding),await async function(t=dt.lineHeight){t&&yt.addStyle(".texscript-Page","line-height",t)}(t.lineHeight),await async function(t=dt.letterSpacing){t&&yt.addStyle(".texscript-Page","letter-spacing",t)}(t.letterSpacing),wt(yt.buildCSS())}}var yt,bt,Ct,vt=s(()=>{gt(),kt(),St(),yt=new xt}),Tt=s(()=>{w(),bt=["align-items","color","display","flex-direction","font-family","font-size","font-weight","gap","justify-content","letter-spacing","padding-left","text-align"],Ct=class{constructor(){this.metricsCSSFilterCompiler=new E("CSS Filter Compiler"),this.allowedProperties=bt}compile(t){this.metricsCSSFilterCompiler.start();let e,r={classes:[],imports:[]},i=/@import\s+(?:url\()?["']?([^"')]+)["']?\)?\s*;/g;for(;null!==(e=i.exec(t));){let t=e[1];"string"==typeof t&&t.trim()&&r.imports.push(t.trim())}let s,n=/((?:\.[a-zA-Z0-9_-]+\s*,?\s*)+)\{([^}]+)\}/g;for(;null!==(s=n.exec(t));){let t=s[1],e=s[2],i=[];e&&e.split(";").forEach(t=>{let[e,r]=t.split(":").map(t=>t.trim());this.allowedProperties.includes(e)&&i.push({property:e,value:r})}),t&&t.split(",").map(t=>t.trim()).forEach(t=>{t.startsWith(".")&&r.classes.push({selector:t,declarations:[...i]})})}return this.metricsCSSFilterCompiler.end(),r}generateFilteredCSSContent(t){var e;if(!t)return"";return[...(null==(e=t.imports)?void 0:e.map(t=>`@import url("${t}");`))||[],...t.classes.map(t=>{let e=t.declarations.map(t=>`  ${t.property}: ${t.value};`).join("\n");return`${t.selector} {\n${e}\n}`})].join("\n\n")}}});var At,Lt,Nt,Ot,$t,Pt,Bt,_t=s(()=>{k(),w(),St(),Tt()}),Dt=s(()=>{At="#TexscriptHostElement { position: relative; width: 100%; background-color: #252529; overflow: auto; box-sizing: border-box; margin: 0; padding: 0;}.reset * { box-sizing: border-box;}.display-none { display: none;}a { text-decoration: none; font-style: italic;}"}),Mt=s(()=>{Lt="@media print { body { background: #fff !important; margin: 0 !important; padding: 0 !important; } .texscript-pages-container { margin: 0 !important; padding: 0 !important; } .texscript-pages { gap: 0px !important; } .texscript-PageWrapper { box-shadow: none !important; page-break-after: always !important; break-after: page !important; page-break-inside: avoid !important; break-inside: avoid !important; } .texscript-Page { margin: 0 !important; box-shadow: none !important; } .texscript-PageBreak { page-break-before: always !important; break-before: page !important; display: block !important; height: 0 !important; margin: 0 !important; padding: 0 !important; border: none !important; } .page-break-after { page-break-after: always !important; break-after: page !important; } .avoid-break { page-break-inside: avoid !important; break-inside: avoid !important; }}"}),It=s(()=>{Nt=".texscript-Blocks-DIRECTION-ROW { flex-direction: row;}.texscript-Blocks-DIRECTION-COLUMN { flex-direction: column;}.texscript-Blocks-SPACE-BETWEEN { justify-content: space-between;}.texscript-Blocks-ALIGN-CENTER { align-items: center;}"}),Ut=s(()=>{Ot=".texscript-pages-container { display: inline-block; margin: 24px;}.texscript-pages { display: flex; gap: 24px; flex-wrap: wrap; align-items: flex-start; justify-content: flex-start;}.texscript-PageWrapper { display: flex; flex-direction: column; background-color: #fff; box-sizing: border-box; box-shadow: 4px 8px 16px rgba(0, 0, 0, 0.5); flex: 0 0 auto;}.texscript-Page { display: flex; flex-direction: column; box-sizing: border-box; overflow: hidden;}.texscript-Line { display: block;}.texscript-HR { height: 0; background: transparent; margin: 8px 0; border: 0; border-top: 1px solid #000;}.texscript-List { padding-left: 24px; margin-block-start: 0; margin-block-end: 0;}.texscript-Blocks { display: flex;}"}),Ft=s(()=>{$t=".texscript-List-TYPE-BULLET .texscript-ListItem { list-style-type: disc;}.texscript-List-TYPE-NUMBER .texscript-ListItem { list-style-type: decimal;}"}),Kt=s(()=>{Pt=".texscript-Line-ALIGN-CENTER { text-align: center;}.texscript-Line-ALIGN-RIGHT { text-align: right;}"}),Ht=s(()=>{Dt(),Mt(),It(),Ut(),Ft(),Kt(),Bt=At+Lt+Nt+Ot+$t+Pt});async function Gt(){await async function(){try{let t=document.createElement("style");t.textContent=Bt,document.head.appendChild(t)}catch(t){te(t,"error")}}(),await async function(){let t=document.createElement("meta");t.setAttribute("name","viewport"),t.setAttribute("content","width=device-width, initial-scale=1.0"),document.head.appendChild(t)}()}var Wt=s(()=>{Ht(),ne()}),zt={};async function jt(t,e){try{qt.start(),te("Compiling...");let r=t.compile(e);if(await Gt(),r){let t=r.configurations;t&&(te("Loading configurations..."),await async function(t){t&&await Rt(t)}(t),ee("95"));let e=r.references;e&&(te("Loading references..."),await async function(t){t&&t.css&&await async function(t){let e=new E("CSS File Loader");e.start();let r=[];for(let e of t)if(!r.includes(e)){let t=await fetch(e);if(404===t.status)throw new Error(u.ERR0022+": "+e);let i=await t.text();if(i){let t=new Ct,s=t.compile(i);wt(t.generateFilteredCSSContent(s)),r.push(e)}}e.end()}(t.css)}(e),ee("98"))}let i=new pt(r).generateCodeForHTML();te("Compilation done.");let s=document.querySelector(".texscript-banner-container");s instanceof HTMLElement&&(s.style.display="none");let n=document.createElement("div");n.className="texscript-pages",n.innerHTML=i;let a=document.createElement("div");a.className="texscript-pages-container",a.classList.add("display-none"),a.appendChild(n),he().innerHTML=a.outerHTML,await document.fonts.ready,a.classList.remove("display-none"),ee("100"),window.TexscriptCompiler=t.toString(),function(){(!document.title||""===document.title.trim())&&(document.title="Texscript | "+location.host+location.pathname);let t=document.documentElement;(!t.lang||""===t.lang.trim())&&(t.lang="en");let e=document.querySelector('meta[name="description"]');e?(!e.content||""===e.content.trim())&&(e.content="This page was compiled by Texscript Compiler"):(e=document.createElement("meta"),e.name="description",e.content="This page was compiled by Texscript Compiler",document.head.appendChild(e))}(),qt.end()}catch(t){te(t,"error")}}n(zt,{process:()=>jt});var qt,Yt=s(()=>{pe(),mt(),vt(),_t(),w(),Wt(),ne(),qt=new E("Texscript Process")}),Qt={};async function Jt(){try{let t=new E("Texscript Loader");t.start(),te("Getting handy tools..."),ee("20");let e=await Promise.resolve().then(()=>(b(),x));te("Opening curse words..."),ee("30");let r=await Promise.resolve().then(()=>(k(),d));te("Loading brain power..."),ee("50");let i=new((await Promise.resolve().then(()=>(ut(),ct))).default),s=await Promise.resolve().then(()=>(Yt(),zt));ee("60"),te("Finding your story...");let n=await e.findCodeFromDOM();if(!n)throw new Error(r.default.ERR0001);ee("90"),t.end(),s.process(i,n)}catch(t){te(t,"error")}}n(Qt,{load:()=>Jt});var Vt=s(()=>{w(),ne()}),Zt={};async function Xt(){try{ee("8");let t=document.createElement("style");t.innerHTML=se,document.head.appendChild(t);let e=document.createElement("div");e.innerHTML=ie,he().appendChild(e),te("Fetching Texscript Loader...");let r=await Promise.resolve().then(()=>(Vt(),Qt));ee("10"),te("Fetched Texscript Loader"),te("Loading Texscript modules..."),await r.load()}catch(t){te(t,"error")}}function te(t,e){let r="";r="error"===e?`<div class="texscript-splash-status-error">${t.toString().replaceAll("\n","<br/>")}</div>`:`<div>${t}</div>`;let i=document.getElementById("texscript-splash-status");if(i&&(s=r,i.innerHTML+=s),e&&["error"].includes(e)){let t=document.getElementById("texscript-splash");t&&(t.style.display="flex")}var s;"error"===e&&console.error(t)}function ee(t){if(t){let e=document.getElementById("texscript-splash-progress");e&&e.setAttribute("value",t),parseInt(t)>99&&re()}}function re(){let t=document.getElementById("texscript-splash-progress");t&&(t.style.display="none")}n(Zt,{hideSplashProgress:()=>re,loadSplash:()=>Xt,updateSplashProgress:()=>ee,updateSplashStatus:()=>te});var ie,se,ne=s(()=>{pe(),p(),ie='\n<div class="texscript-splash-container" id="texscript-splash">\n  <div class="texscript-splash">\n    <div>Texscript Markup Language [Version 0.3]<br/>Free and Open Source. Licensed under GPL-3.0.<br/>Hosted on GitHub: <a href="https://github.com/M9J/texscript.git">texscript.git</a></div>\n    <br/><hr/><br/>\n    <div id="texscript-splash-status"></div>\n  </div>\n</div>\n',se=e}),ae={};async function oe(){let t=he(),e=document.createElement("style");e.textContent=le,document.head.appendChild(e);let r=document.createElement("progress");r.setAttribute("class","texscript-splash-progress-bar"),r.setAttribute("id","texscript-splash-progress"),r.setAttribute("value","0"),r.setAttribute("max","100"),t.appendChild(r),r.setAttribute("value","2");let i=await Promise.resolve().then(()=>(ne(),Zt));r.setAttribute("value","5"),await i.loadSplash()}n(ae,{load:()=>oe});var le,ce=s(()=>{pe(),h(),le=t});function he(){return document.querySelector("[data-texscript-host]")||document.body}var pe=s(()=>{document.addEventListener("DOMContentLoaded",async()=>{if(window.__texscript_loaded__)return;window.__texscript_loaded__=!0;let t=he();t instanceof HTMLElement&&(t.setAttribute("id","TexscriptHostElement"),t.classList.add("reset"),t instanceof HTMLBodyElement||(t.innerHTML=""),t.style.background="#252529",t.style.margin="0px",t.style.padding="0px"),(await Promise.resolve().then(()=>(ce(),ae))).load()})});pe()})();